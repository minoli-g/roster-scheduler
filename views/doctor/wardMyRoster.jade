extends layout 


block content

    nav(class="navbar fixed-top navbar-expand-lg navbar-light bg-light")
        a(class="navbar-brand" href="/home") Roster Scheduler
        button(class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation")
            span(class="navbar-toggler-icon")

        div(class="collapse navbar-collapse" id="navbarSupportedContent")

            ul(class="navbar-nav mr-auto")
                
                li(class="nav-item active")
                    a(class="nav-link" href="#") Roster

                li(class="nav-item")
                    a(class="nav-link" href="/doctor/preferences") Preferences 

                li(class="nav-item active")
                    a(class="nav-link" href="/doctor/leave") Leave

                li(class="nav-item")
                    a(class="nav-link" href="/doctor/report") Report Issue 


            span(class="navbar-text ml-auto") 
            ul(class="navbar-nav")
                li(class="nav-item active")
                    
                    a(class="nav-link" href="/logout") Log Out
                        span(class="sr-only") (current)

    br
    br
    br
    br

    div(class="d-flex flex-column text-center align-items-center justify-content-center")
        p
            i(class="fas fa-arrow-left" style="color:#1E90FF")
            a(href='/doctor/roster/#{id}/#{y}/#{m}') &nbsp; Back to Ward Roster

        - const months = ['January', 'February', 'March', 'April','May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        h4(class="display-4") Your Personal Roster for #{months[m-1]} #{y}


        - function getDate(day_no) { var dy= day_no.substring(4,6);
        - var d = new Date(y,m-1,1); d.setDate(dy); return d.toDateString();}

        table.table.table-bordered#dashboardTable(style="width:80%")
            thead
                tr 
                th(style='width:15px') Date
                th(style='width:15px') Shift

            tbody
                each routine, day in roster
                    tr
                    each i in routine.Morning
                        if i == userID
                            td= getDate(day)
                            td(class="table-warning")= 'Morning' 

                    each i in routine.Evening
                        if i == userID
                            td= getDate(day)
                            td(class="table-light")= 'Evening' 

                    each i in routine.Night
                        if i == userID
                            td= getDate(day)
                            td(class="table-secondary")= 'Night' 


//
    div(class="container-fluid py-4")
        div(class="jumbotron d-flex flex-column text-center align-items-center justify-content-center")

            p
                i(class="fas fa-arrow-left" style="color:#1E90FF")
                a(href='/doctor/roster/#{id}') &nbsp; Back all Rosters
                br
                i(class="fas fa-arrow-left" style="color:#1E90FF")
                a(href='/home') &nbsp; Back to Dashboard

            p
                h1 Roster of the Ward #{id} for the Year #{y}, Month #{m}
                br


    table.table.table-striped#dashboardTable(style="width:80%")
            thead
                tr 
                th(style='width:15px') Date
                th(style='width:15px') Shift

            tbody
                each routine, day in roster
                    tr
                    each i in routine.Morning
                        if i == userID
                            td= day
                            td= 'Morning' 

                    each i in routine.Evening
                        if i == userID
                            td= day
                            td= 'Evening' 

                    each i in routine.Night
                        if i == userID
                            td= day
                            td= 'Night' 


            

    

              
                
                




